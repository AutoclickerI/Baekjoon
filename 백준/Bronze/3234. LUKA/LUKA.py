*a,l=open(0).read().split()
x,y,n=map(int,a)
a=b=t=0
q=[]
for i in l+'Y':q+=[t]*(-2<a-x<2>b-y>-2);a+=(i<'J')-(i>'Y');b+=(i=='S')-(i=='J');t+=1
print(*q or[-1])
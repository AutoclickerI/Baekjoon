zu={
    ('.....',
     '.....',
     '.....',
     '.....',
     '.....'):'_',
    ('#####',
     '#...#',
     '#...#',
     '#...#',
     '#####'):'0',
    ('#####',
     '#.#.#',
     '#.#.#',
     '#...#',
     '#####'):'1',
    ('#####',
     '#...#',
     '#.###',
     '#...#',
     '#####'):'2',
    ('#####',
     '#...#',
     '#.#.#',
     '#.#.#',
     '#####'):'3',
    ('#####',
     '#.#.#',
     '#.###',
     '#...#',
     '#####'):'3',
    ('#####',
     '#...#',
     '###.#',
     '#...#',
     '#####'):'4',
    ('#####',
     '#.#.#',
     '#.#.#',
     '#.#.#',
     '#####'):'4',
    ('#####',
     '#...#',
     '#.###',
     '#.#.#',
     '#####'):'5',
    ('#####',
     '#.#.#',
     '###.#',
     '#...#',
     '#####'):'5',
    ('#####',
     '#...#',
     '#####',
     '#...#',
     '#####'):'6',
    ('#####',
     '#.#.#',
     '#.###',
     '#.#.#',
     '#####'):'6',
    ('#####',
     '#...#',
     '###.#',
     '#.#.#',
     '#####'):'7',
    ('#####',
     '#.#.#',
     '#####',
     '#...#',
     '#####'):'7',
    ('#####',
     '#.#.#',
     '###.#',
     '#.#.#',
     '#####'):'8',
    ('#####',
     '#...#',
     '#####',
     '#.#.#',
     '#####'):'9',
    ('#####',
     '#.#.#',
     '#####',
     '#.#.#',
     '#####'):'10',
    ('#####',
     '..#..',
     '#...#',
     '#####',
     '#####'):'a',
    ('#####',
     '#...#',
     '#.#.#',
     '....#',
     '#####'):'b',
    ('#####',
     '###..',
     '###.#',
     '###..',
     '#####'):'c',
    ('#####',
     '#####',
     '#####',
     '..###',
     '#.###'):'d',
    ('#####',
     '..###',
     '#.###',
     '#....',
     '#####'):'e',
    ('#####',
     '#.#.#',
     '....#',
     '#.#.#',
     '#####'):'f',
    ('###.#',
     '##..#',
     '##.##',
     '##..#',
     '###.#'):'g',
    ('#####',
     '#...#',
     '#.#.#',
     '#...#',
     '###.#'):'h',
    ('#.#.#',
     '#...#',
     '#####',
     '#####',
     '#####'):'i',
    ('#####',
     '#####',
     '#####',
     '###..',
     '###.#'):'j',
    ('###.#',
     '###.#',
     '###.#',
     '#...#',
     '#.###'):'kq',
    ('#####',
     '#...#',
     '##.##',
     '#...#',
     '##.##'):'l',
    ('#####',
     '#####',
     '#...#',
     '..#..',
     '#####'):'m',
    ('#####',
     '#....',
     '#.#.#',
     '#...#',
     '#####'):'n',
    ('#####',
     '..###',
     '#.###',
     '..###',
     '#####'):'o',
    ('###.#',
     '###..',
     '#####',
     '#####',
     '#####'):'p',
    ('#####',
     '#####',
     '#####',
     '#####',
     '#####'):'_',
    ('#####',
     '....#',
     '###.#',
     '###..',
     '#####'):'z',
    ('#####',
     '#.#.#',
     '#....',
     '#.#.#',
     '#####'):'r',
    ('#.###',
     '#..##',
     '##.##',
     '#..##',
     '#.###'):'s',
    ('#.###',
     '#...#',
     '#.#.#',
     '#...#',
     '#####'):'t',
    ('#####',
     '#####',
     '#####',
     '#...#',
     '#.#.#'):'uv',
    ('#.###',
     '..###',
     '#####',
     '#####',
     '#####'):'w',
    ('###.#',
     '#...#',
     '#.###',
     '#.###',
     '#.###'):'x',
    ('##.##',
     '#...#',
     '##.##',
     '#...#',
     '#####'):'y',
}

arr=[]

R,C=map(int,input().split())

for i in range(R):
    tmp=[]
    for _ in[0]*5:
        s=input()
        for j in range(C):
            tmp+=s[j*6:j*6+5],
    arr+=[tuple(tmp[i::C])for i in range(C)],
    if i!=R-1:
        input()
    
arr=[*zip(*arr)][::-1]

for i in arr:
    for j in i:
        print(end=zu[j])
    print()